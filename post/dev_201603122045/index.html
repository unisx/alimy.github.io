  <!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <title> Gson: User Guide &middot; 北 野 </title>
    
    <link rel="stylesheet" type="text/css" href="http://alimy.me/css/uno.min.css" />
    <link rel="stylesheet" type="text/css" href="http://alimy.me/css/lightGallery.css" />
    
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://alimy.me/apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" href="http://alimy.me/favicon.png">
    
    <script src="http://alimy.me/js/jquery.min.js"></script>
    <script src="http://alimy.me/js/main.min.js"></script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-75081327-1', 'auto');
  ga('send', 'pageview');
</script>


<script>
  "use strict";
  
  !function() {
    var t = window.driftt = window.drift = window.driftt || [];
    if (!t.init) {
      if (t.invoked) return void (window.console && console.error && console.error("Drift snippet included twice."));
      t.invoked = !0, t.methods = [ "identify", "config", "track", "reset", "debug", "show", "ping", "page", "hide", "off", "on" ], 
      t.factory = function(e) {
        return function() {
          var n = Array.prototype.slice.call(arguments);
          return n.unshift(e), t.push(n), t;
        };
      }, t.methods.forEach(function(e) {
        t[e] = t.factory(e);
      }), t.load = function(t) {
        var e = 3e5, n = Math.ceil(new Date() / e) * e, o = document.createElement("script");
        o.type = "text/javascript", o.async = !0, o.crossorigin = "anonymous", o.src = "https://js.driftt.com/include/" + n + "/" + t + ".js";
        var i = document.getElementsByTagName("script")[0];
        i.parentNode.insertBefore(o, i);
      };
    }
  }();
  drift.SNIPPET_VERSION = '0.3.1';
  drift.load('b8zniyzvbfap');
  </script>



<script>
(function(f, a, t, h, o, m){
a[h]=a[h]||function(){
  (a[h].q=a[h].q||[]).push(arguments)
};
o=f.createElement('script'),
m=f.getElementsByTagName('script')[0];
o.async=1; o.src=t; o.id='fathom-script';
m.parentNode.insertBefore(o,m)
})(document, window, '//fathom.traefic.com/tracker.js', 'fathom');
fathom('trackPageview');
</script>


    <style type="text/css">
        body {
          background-color:#f9f9f9;
        }
        .panel-wrapper {
          box-shadow:0px 0px 8px rgba(68,68,68,.6);
          -moz-box-shadow:0px 0px 8px rgba(68,68,68,.6);
          border-radius:4px;
          -moz-border-radius:4px;
          padding:16px 24px;
          margin-top:32px;
          background-color:#fff
        }
        .panel-wrapper:hover {
          box-shadow:0px 0px 12px rgba(68,68,68,.6);
          -moz-box-shadow:0px 0px 12px rgba(68,68,68,.6);
        }
        #more {
          margin-top:16px;
        }
        #copyright {
          padding:2em 0 0;
          display:block;
          font-size:.9em;
          color:#b3b3b3;
          width:100%;
          text-align:center
        }
        #list-indicator {
          min-width:48px;
          text-align:center;
          float:right;
          margin-right:64px;
          background:rgba(68,68,68,.2);
          border-radius:4px;
          -moz-border-radius:4px;
          padding:8px;
        }
        #list-date {
          color:#999;
          font-size: .9em;
          font-style:italic;
        }
        #post-navigator {
          padding:24px 0px 16px 0px;
          vertical-align: middle;
        }
        #post-navigator>a {
          display: block;
          color:#2479cc;
          text-decoration:none;
        }
        #post-navigator-prev {
          float:left;
        }
        #post-navigator-next {
          float:right;
        }
        .pages {
            text-align: center;
            margin-right: -15px;
            margin-left: -15px;
        }
        .pages>ul {
            font-weight: lighter;
        }
        .pages>.pagination {
            display: inline-block;
            padding-left: 0;
            margin: 20px 0px;
            border-radius: 4px;
        }
        .pages .pagination>li {
            display:inline;
        }

.pagination>.active>a, .pagination>.active>span, .pagination>.active>a:hover, .pagination>.active>span:hover, .pagination>.active>a:focus, .pagination>.active>span:focus {
    z-index: 2;
    color: #fff;
    cursor: default;
    background-color: #428bca;
    border-color: #428bca;
}

.pagination>li>a, .pagination>li>span {
    position: relative;
    float: left;
    padding: 6px 12px;
    margin-left: -1px;
    line-height: 1.428571429;
    text-decoration: none;
    background-color: #fff;
    border: 1px solid #ddd;
}
.pagination>li:first-child>a, .pagination>li:first-child>span {
    margin-left: 0;
    border-bottom-left-radius: 4px;
    border-top-left-radius: 4px;
}
.pagination>.disabled>span, .pagination>.disabled>span:hover, .pagination>.disabled>span:focus, .pagination>.disabled>a, .pagination>.disabled>a:hover, .pagination>.disabled>a:focus {
    color: #999;
    cursor: not-allowed;
    background-color: #fff;
    border-color: #ddd;
}
.pagination>li:last-child>a, .pagination>li:last-child>span {
    border-top-right-radius: 4px;
    border-bottom-right-radius: 4px;
}
*, *:before, *:after {
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
}
    </style>
</head>

  <body>
    <div id="scriptHeader">
    <span class="mobile btn-mobile-menu">
            <i class="fa fa-bars btn-mobile-menu__icon"></i>
            <i class="fa fa-times btn-mobile-close__icon hidden"> </i>
    </span>
    <header class="
        
            panel-cover panel-cover--collapsed
        " >
    <div class="panel-main">
        <div class="panel-main__inner panel-inverted">
            <div class="panel-main__content"> 
                <a href="http://alimy.me/"> <img src="http://alimy.me/images/logo.jpg" width="142" height="142" alt="北 野 logo" class="panel-cover__logo logo" /> </a> 
                <h1 class="panel-cover__title panel-title">
                    <a href="http://alimy.me/">北 野</a>
                </h1>
                <hr class="panel-cover__divider" />
                <p class="panel-cover__description">  糊涂小栈  </p>
                <hr class="panel-cover__divider panel-cover__divider--secondary" />
                <div class="navigation-wrapper">
                    <nav class="cover-navigation cover-navigation--primary">
                        <ul class="navigation">
                            <li class="navigation__item"><a href="http://alimy.me" title="博客首页" class="blog-button">Blog</a> </li> </br></br>
                            <li class="navigation__item"><a href="http://alimy.me/post/" title="文章列表" class="blog-button">Archive</a> </li>
                            </br>  </ul>
                            <nav class="cover-navigation navigation--social">
</br>
    <ul class="navigation"> 
        
        <li class="navigation__item">
            <a href="http://twitter.com/bitriory" title="@Twitter"> <i class='fa fa-twitter'></i> <span class="label">Twitter</span> </a>
        </li>   
        
        <li class="navigation__item">
            <a href="https://github.com/alimy" title="@GitHub"> <i class='fa fa-github'></i> <span class="label">Github</span> </a>
        </li>  
        
        <li class="navigation__item">
            <a href="http://gitbus.com/alimy" title="@GitBus"> <i class='fa fa-bars'></i> <span class="label">GitBus</span> </a>
        </li>  </br>    </ul>
</nav>

                    </nav>  </div>
            </div>
        </div>
        <div class="panel-cover--overlay"></div>
    </div>
</header>
</div>
<noscript>
    <style>
        #scriptHeader {display:none;}
        .navigation-wrapper{
            display: block;
            top: 0;
        }
    </style>

    <header class="panel-cover panel-cover--collapsed" style="background-image: url()">
        <div class="panel-main">
            <div class="panel-main__inner panel-inverted">
                <div class="panel-main__content"> 
                    <a href="http://alimy.me/"> <img src="http://alimy.me/images/logo.jpg" width="80" alt="北 野 logo" class="panel-cover__logo logo" /> </a> 
                    <h1 class="panel-cover__title panel-title">
                        <a href="http://alimy.me/">北 野</a>
                    </h1>
                    <hr class="panel-cover__divider" />
                    <p class="panel-cover__description">  糊涂小栈  </p>
                    <hr class="panel-cover__divider panel-cover__divider--secondary" />
                    <div class="navigation-wrapper">
                        <nav class="cover-navigation cover-navigation--primary">
                            <ul class="navigation">
                                <li class="navigation__item"><a href="http://alimy.me/" title="博客首页" class="blog-button">Blog</a> </li>
                                </br>  </ul>
                        </nav> <nav class="cover-navigation navigation--social">
</br>
    <ul class="navigation"> 
        
        <li class="navigation__item">
            <a href="http://twitter.com/bitriory" title="@Twitter"> <i class='fa fa-twitter'></i> <span class="label">Twitter</span> </a>
        </li>   
        
        <li class="navigation__item">
            <a href="https://github.com/alimy" title="@GitHub"> <i class='fa fa-github'></i> <span class="label">Github</span> </a>
        </li>  
        
        <li class="navigation__item">
            <a href="http://gitbus.com/alimy" title="@GitBus"> <i class='fa fa-bars'></i> <span class="label">GitBus</span> </a>
        </li>  </br>    </ul>
</nav>
 </div>
                </div>
            </div>
            <div class="panel-cover--overlay"></div>
        </div>
    </header>
</noscript>

    <div class="content-wrapper">
      <div class="content-wrapper__inner">
        <div class="post panel-wrapper">
            <h2>Gson: User Guide</h2>
          
          <ol>
<li><a href="#TOC-Overview">Overview</a></li>
<li><a href="#TOC-Goals-for-Gson">Goals for Gson</a></li>
<li><a href="#TOC-Gson-Performance-and-Scalability">Gson Performance and Scalability</a></li>
<li><a href="#TOC-Gson-Users">Gson Users</a></li>
<li><a href="#TOC-Using-Gson">Using Gson</a>

<ul>
<li><a href="#TOC-Gson-With-Maven">Using Gson with Maven</a></li>
<li><a href="#TOC-Primitives-Examples">Primitives Examples</a></li>
<li><a href="#TOC-Object-Examples">Object Examples</a></li>
<li><a href="#TOC-Finer-Points-with-Objects">Finer Points with Objects</a></li>
<li><a href="#TOC-Nested-Classes-including-Inner-Classes-">Nested Classes (including Inner Classes)</a></li>
<li><a href="#TOC-Array-Examples">Array Examples</a></li>
<li><a href="#TOC-Collections-Examples">Collections Examples</a></li>
<li><a href="#TOC-Collections-Limitations">Collections Limitations</a></li>
<li><a href="#TOC-Serializing-and-Deserializing-Generic-Types">Serializing and Deserializing Generic Types</a></li>
<li><a href="#TOC-Serializing-and-Deserializing-Collection-with-Objects-of-Arbitrary-Types">Serializing and Deserializing Collection with Objects of Arbitrary Types</a></li>
<li><a href="#TOC-Built-in-Serializers-and-Deserializers">Built-in Serializers and Deserializers</a></li>
<li><a href="#TOC-Custom-Serialization-and-Deserialization">Custom Serialization and Deserialization</a></li>
<li><a href="#TOC-Writing-a-Serializer">Writing a Serializer</a></li>
<li><a href="#TOC-Writing-a-Deserializer">Writing a Deserializer</a>
</li>
<li><a href="#TOC-Writing-an-Instance-Creator">Writing an Instance Creator</a></li>
<li><a href="#TOC-InstanceCreator-for-a-Parameterized-Type">InstanceCreator for a Parameterized Type</a></li>
<li><a href="#TOC-Compact-Vs.-Pretty-Printing-for-JSON-Output-Format">Compact Vs. Pretty Printing for JSON Output Format</a></li>
<li><a href="#TOC-Null-Object-Support">Null Object Support</a></li>
<li><a href="#TOC-Versioning-Support">Versioning Support</a></li>
<li><a href="#TOC-Excluding-Fields-From-Serialization-and-Deserialization">Excluding Fields From Serialization and Deserialization</a></li>
<li><a href="#TOC-Java-Modifier-Exclusion">Java Modifier Exclusion</a></li>
<li><a href="#TOC-Gson-s-Expose">Gson&rsquo;s <code>@Expose</code></a></li>
<li><a href="#TOC-User-Defined-Exclusion-Strategies">User Defined Exclusion Strategies</a></li>
<li><a href="#TOC-JSON-Field-Naming-Support">JSON Field Naming Support</a></li>
<li><a href="#TOC-Sharing-State-Across-Custom-Serializers-and-Deserializers">Sharing State Across Custom Serializers and Deserializers</a></li>
<li><a href="#TOC-Streaming">Streaming</a></li>
</ul></li>
<li><a href="#TOC-Issues-in-Designing-Gson">Issues in Designing Gson</a></li>
<li><a href="#TOC-Future-Enhancements-to-Gson">Future Enhancements to Gson</a></li>
</ol>

<h2 id="a-name-toc-overview-a-overview"><a name="TOC-Overview"></a>Overview</h2>

<p>Gson is a Java library that can be used to convert Java Objects into their JSON representation. It can also be used to convert a JSON string to an equivalent Java object.</p>

<p>Gson can work with arbitrary Java objects including pre-existing objects that you do not have source code of.</p>

<h2 id="a-name-toc-goals-for-gson-a-goals-for-gson"><a name="TOC-Goals-for-Gson"></a>Goals for Gson</h2>

<ul>
<li>Provide easy to use mechanisms like <code>toString()</code> and constructor (factory method) to convert Java to JSON and vice-versa</li>
<li>Allow pre-existing unmodifiable objects to be converted to and from JSON</li>
<li>Allow custom representations for objects</li>
<li>Support arbitrarily complex objects</li>
<li>Generate compact and readability JSON output</li>
</ul>

<h2 id="a-name-toc-gson-performance-and-scalability-a-gson-performance-and-scalability"><a name="TOC-Gson-Performance-and-Scalability"></a>Gson Performance and Scalability</h2>

<p>Here are some metrics that we obtained on a desktop (dual opteron, 8GB RAM, 64-bit Ubuntu) running lots of other things along-with the tests. You can rerun these tests by using the class <a href="gson/src/test/java/com/google/gson/metrics/PerformanceTest.java"><code>PerformanceTest</code></a>.</p>

<ul>
<li>Strings: Deserialized strings of over 25MB without any problems (see <code>disabled_testStringDeserializationPerformance</code> method in <code>PerformanceTest</code>)</li>
<li>Large collections:

<ul>
<li>Serialized a collection of 1.4 million objects (see <code>disabled_testLargeCollectionSerialization</code> method in <code>PerformanceTest</code>)</li>
<li>Deserialized a collection of 87,000 objects (see <code>disabled_testLargeCollectionDeserialization</code> in <code>PerformanceTest</code>)</li>
</ul></li>
<li>Gson 1.4 raised the deserialization limit for byte arrays and collection to over 11MB from 80KB.</li>
</ul>

<p>Note: Delete the <code>disabled_</code> prefix to run these tests. We use this prefix to prevent running these tests every time we run JUnit tests.</p>

<h2 id="a-name-toc-gson-users-a-gson-users"><a name="TOC-Gson-Users"></a>Gson Users</h2>

<p>Gson was originally created for use inside Google where it is currently used in a number of projects. It is now used by a number of public projects and companies. See details <a href="https://sites.google.com/site/gson/gson-users">here</a>.</p>

<h2 id="a-name-toc-using-gson-a-using-gson"><a name="TOC-Using-Gson"></a>Using Gson</h2>

<p>The primary class to use is <a href="gson/src/main/java/com/google/gson/Gson.java"><code>Gson</code></a> which you can just create by calling <code>new Gson()</code>. There is also a class <a href="gson/src/main/java/com/google/gson/GsonBuilder.java"><code>GsonBuilder</code></a> available that can be used to create a Gson instance with various settings like version control and so on.</p>

<p>The Gson instance does not maintain any state while invoking Json operations. So, you are free to reuse the same object for multiple Json serialization and deserialization operations.</p>

<h2 id="a-name-toc-gson-with-maven-a-using-gson-with-maven"><a name="TOC-Gson-With-Maven"></a>Using Gson with Maven</h2>

<p>To use Gson with Maven2/3, you can use the Gson version available in Maven Central by adding the following dependency:</p>

<pre><code class="language-xml">&lt;dependencies&gt;
    &lt;!--  Gson: Java to Json conversion --&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;
      &lt;artifactId&gt;gson&lt;/artifactId&gt;
      &lt;version&gt;2.6.2&lt;/version&gt;
      &lt;scope&gt;compile&lt;/scope&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre>

<p>That is it, now your maven project is Gson enabled.</p>

<h3 id="a-name-toc-primitives-examples-a-primitives-examples"><a name="TOC-Primitives-Examples"></a>Primitives Examples</h3>

<pre><code class="language-java">// Serialization
Gson gson = new Gson();
gson.toJson(1);            // ==&gt; 1
gson.toJson(&quot;abcd&quot;);       // ==&gt; &quot;abcd&quot;
gson.toJson(new Long(10)); // ==&gt; 10
int[] values = { 1 };
gson.toJson(values);       // ==&gt; [1]

// Deserialization
int one = gson.fromJson(&quot;1&quot;, int.class);
Integer one = gson.fromJson(&quot;1&quot;, Integer.class);
Long one = gson.fromJson(&quot;1&quot;, Long.class);
Boolean false = gson.fromJson(&quot;false&quot;, Boolean.class);
String str = gson.fromJson(&quot;\&quot;abc\&quot;&quot;, String.class);
String anotherStr = gson.fromJson(&quot;[\&quot;abc\&quot;]&quot;, String.class);
</code></pre>

<h3 id="a-name-toc-object-examples-a-object-examples"><a name="TOC-Object-Examples"></a>Object Examples</h3>

<pre><code class="language-java">class BagOfPrimitives {
  private int value1 = 1;
  private String value2 = &quot;abc&quot;;
  private transient int value3 = 3;
  BagOfPrimitives() {
    // no-args constructor
  }
}

// Serialization
BagOfPrimitives obj = new BagOfPrimitives();
Gson gson = new Gson();
String json = gson.toJson(obj);  

// ==&gt; json is {&quot;value1&quot;:1,&quot;value2&quot;:&quot;abc&quot;}
</code></pre>

<p>Note that you can not serialize objects with circular references since that will result in infinite recursion.</p>

<pre><code class="language-java">// Deserialization
BagOfPrimitives obj2 = gson.fromJson(json, BagOfPrimitives.class);
// ==&gt; obj2 is just like obj
</code></pre>

<h4 id="a-name-toc-finer-points-with-objects-a-finer-points-with-objects"><a name="TOC-Finer-Points-with-Objects"></a><strong>Finer Points with Objects</strong></h4>

<ul>
<li>It is perfectly fine (and recommended) to use private fields</li>
<li>There is no need to use any annotations to indicate a field is to be included for serialization and deserialization. All fields in the current class (and from all super classes) are included by default.</li>
<li>If a field is marked transient, (by default) it is ignored and not included in the JSON serialization or deserialization.</li>
<li>This implementation handles nulls correctly</li>
<li>While serialization, a null field is skipped from the output</li>
<li>While deserialization, a missing entry in JSON results in setting the corresponding field in the object to null</li>
<li>If a field is <em>synthetic</em>, it is ignored and not included in JSON serialization or deserialization</li>
<li>Fields corresponding to the outer classes in inner classes, anonymous classes, and local classes are ignored and not included in serialization or deserialization</li>
</ul>

<h3 id="a-name-toc-nested-classes-including-inner-classes-a-nested-classes-including-inner-classes"><a name="TOC-Nested-Classes-including-Inner-Classes-"></a>Nested Classes (including Inner Classes)</h3>

<p>Gson can serialize static nested classes quite easily.</p>

<p>Gson can also deserialize static nested classes. However, Gson can <strong>not</strong> automatically deserialize the <strong>pure inner classes since their no-args constructor also need a reference to the containing Object</strong> which is not available at the time of deserialization. You can address this problem by either making the inner class static or by providing a custom InstanceCreator for it. Here is an example:</p>

<pre><code class="language-java">public class A {
  public String a;

  class B {

    public String b;

    public B() {
      // No args constructor for B
    }
  }
}
</code></pre>

<p><strong>NOTE</strong>: The above class B can not (by default) be serialized with Gson.</p>

<p>Gson can not deserialize <code>{&quot;b&quot;:&quot;abc&quot;}</code> into an instance of B since the class B is an inner class. if it was defined as static class B then Gson would have been able to deserialize the string. Another solution is to write a custom instance creator for B.</p>

<pre><code class="language-java">public class InstanceCreatorForB implements InstanceCreator&lt;A.B&gt; {
  private final A a;
  public InstanceCreatorForB(A a)  {
    this.a = a;
  }
  public A.B createInstance(Type type) {
    return a.new B();
  }
}
</code></pre>

<p>The above is possible, but not recommended.</p>

<h3 id="a-name-toc-array-examples-a-array-examples"><a name="TOC-Array-Examples"></a>Array Examples</h3>

<pre><code class="language-java">Gson gson = new Gson();
int[] ints = {1, 2, 3, 4, 5};
String[] strings = {&quot;abc&quot;, &quot;def&quot;, &quot;ghi&quot;};

// Serialization
gson.toJson(ints);     // ==&gt; [1,2,3,4,5]
gson.toJson(strings);  // ==&gt; [&quot;abc&quot;, &quot;def&quot;, &quot;ghi&quot;]

// Deserialization
int[] ints2 = gson.fromJson(&quot;[1,2,3,4,5]&quot;, int[].class);
// ==&gt; ints2 will be same as ints
</code></pre>

<p>We also support multi-dimensional arrays, with arbitrarily complex element types.</p>

<h3 id="a-name-toc-collections-examples-a-collections-examples"><a name="TOC-Collections-Examples"></a>Collections Examples</h3>

<pre><code class="language-java">Gson gson = new Gson();
Collection&lt;Integer&gt; ints = Lists.immutableList(1,2,3,4,5);

// Serialization
String json = gson.toJson(ints);  // ==&gt; json is [1,2,3,4,5]

// Deserialization
Type collectionType = new TypeToken&lt;Collection&lt;Integer&gt;&gt;(){}.getType();
Collection&lt;Integer&gt; ints2 = gson.fromJson(json, collectionType);
// ==&gt; ints2 is same as ints
</code></pre>

<p>Fairly hideous: note how we define the type of collection.
Unfortunately, there is no way to get around this in Java.</p>

<h4 id="a-name-toc-collections-limitations-a-collections-limitations"><a name="TOC-Collections-Limitations"></a>Collections Limitations</h4>

<p>Gson can serialize collection of arbitrary objects but can not deserialize from it, because there is no way for the user to indicate the type of the resulting object. Instead, while deserializing, the Collection must be of a specific, generic type.
This makes sense, and is rarely a problem when following good Java coding practices.</p>

<h3 id="a-name-toc-serializing-and-deserializing-generic-types-a-serializing-and-deserializing-generic-types"><a name="TOC-Serializing-and-Deserializing-Generic-Types"></a>Serializing and Deserializing Generic Types</h3>

<p>When you call <code>toJson(obj)</code>, Gson calls <code>obj.getClass()</code> to get information on the fields to serialize. Similarly, you can typically pass <code>MyClass.class</code> object in the <code>fromJson(json, MyClass.class)</code> method. This works fine if the object is a non-generic type. However, if the object is of a generic type, then the Generic type information is lost because of Java Type Erasure. Here is an example illustrating the point:</p>

<pre><code class="language-java">class Foo&lt;T&gt; {
  T value;
}
Gson gson = new Gson();
Foo&lt;Bar&gt; foo = new Foo&lt;Bar&gt;();
gson.toJson(foo); // May not serialize foo.value correctly

gson.fromJson(json, foo.getClass()); // Fails to deserialize foo.value as Bar
</code></pre>

<p>The above code fails to interpret value as type Bar because Gson invokes <code>list.getClass()</code> to get its class information, but this method returns a raw class, <code>Foo.class</code>. This means that Gson has no way of knowing that this is an object of type <code>Foo&lt;Bar&gt;</code>, and not just plain <code>Foo</code>.</p>

<p>You can solve this problem by specifying the correct parameterized type for your generic type. You can do this by using the <a href="http://google.github.io/gson/apidocs/com/google/gson/reflect/TypeToken.html"><code>TypeToken</code></a> class.</p>

<pre><code class="language-java">Type fooType = new TypeToken&lt;Foo&lt;Bar&gt;&gt;() {}.getType();
gson.toJson(foo, fooType);

gson.fromJson(json, fooType);
</code></pre>

<p>The idiom used to get <code>fooType</code> actually defines an anonymous local inner class containing a method <code>getType()</code> that returns the fully parameterized type.</p>

<h3 id="a-name-toc-serializing-and-deserializing-collection-with-objects-of-arbitrary-types-a-serializing-and-deserializing-collection-with-objects-of-arbitrary-types"><a name="TOC-Serializing-and-Deserializing-Collection-with-Objects-of-Arbitrary-Types"></a>Serializing and Deserializing Collection with Objects of Arbitrary Types</h3>

<p>Sometimes you are dealing with JSON array that contains mixed types. For example:
<code>['hello',5,{name:'GREETINGS',source:'guest'}]</code></p>

<p>The equivalent <code>Collection</code> containing this is:</p>

<pre><code class="language-java">Collection collection = new ArrayList();
collection.add(&quot;hello&quot;);
collection.add(5);
collection.add(new Event(&quot;GREETINGS&quot;, &quot;guest&quot;));
</code></pre>

<p>where the <code>Event</code> class is defined as:</p>

<pre><code class="language-java">class Event {
  private String name;
  private String source;
  private Event(String name, String source) {
    this.name = name;
    this.source = source;
  }
}
</code></pre>

<p>You can serialize the collection with Gson without doing anything specific: <code>toJson(collection)</code> would write out the desired output.</p>

<p>However, deserialization with <code>fromJson(json, Collection.class)</code> will not work since Gson has no way of knowing how to map the input to the types. Gson requires that you provide a genericised version of collection type in <code>fromJson()</code>. So, you have three options:</p>

<ol>
<li><p>Use Gson&rsquo;s parser API (low-level streaming parser or the DOM parser JsonParser) to parse the array elements and then use <code>Gson.fromJson()</code> on each of the array elements.This is the preferred approach. <a href="extras/src/main/java/com/google/gson/extras/examples/rawcollections/RawCollectionsExample.java">Here is an example</a> that demonstrates how to do this.</p></li>

<li><p>Register a type adapter for <code>Collection.class</code> that looks at each of the array members and maps them to appropriate objects. The disadvantage of this approach is that it will screw up deserialization of other collection types in Gson.</p></li>

<li><p>Register a type adapter for <code>MyCollectionMemberType</code> and use <code>fromJson()</code> with <code>Collection&lt;MyCollectionMemberType&gt;</code>.</p></li>
</ol>

<p>This approach is practical only if the array appears as a top-level element or if you can change the field type holding the collection to be of type <code>Collection&lt;MyCollectionMemberType&gt;</code>.</p>

<h3 id="a-name-toc-built-in-serializers-and-deserializers-a-built-in-serializers-and-deserializers"><a name="TOC-Built-in-Serializers-and-Deserializers"></a>Built-in Serializers and Deserializers</h3>

<p>Gson has built-in serializers and deserializers for commonly used classes whose default representation may be inappropriate.
Here is a list of such classes:</p>

<ol>
<li><code>java.net.URL</code> to match it with strings like <code>&quot;https://github.com/google/gson/&quot;</code></li>
<li><code>java.net.URI</code> to match it with strings like <code>&quot;/google/gson/&quot;</code></li>
</ol>

<p>You can also find source code for some commonly used classes such as JodaTime at <a href="https://sites.google.com/site/gson/gson-type-adapters-for-common-classes-1">this page</a>.</p>

<h3 id="a-name-toc-custom-serialization-and-deserialization-a-custom-serialization-and-deserialization"><a name="TOC-Custom-Serialization-and-Deserialization"></a>Custom Serialization and Deserialization</h3>

<p>Sometimes default representation is not what you want. This is often the case when dealing with library classes (DateTime, etc).
Gson allows you to register your own custom serializers and deserializers. This is done by defining two parts:</p>

<ul>
<li>Json Serialiers: Need to define custom serialization for an object</li>

<li><p>Json Deserializers: Needed to define custom deserialization for a type</p></li>

<li><p>Instance Creators: Not needed if no-args constructor is available or a deserializer is registered</p></li>
</ul>

<pre><code class="language-java">GsonBuilder gson = new GsonBuilder();
gson.registerTypeAdapter(MyType2.class, new MyTypeAdapter());
gson.registerTypeAdapter(MyType.class, new MySerializer());
gson.registerTypeAdapter(MyType.class, new MyDeserializer());
gson.registerTypeAdapter(MyType.class, new MyInstanceCreator());
</code></pre>

<p><code>registerTypeAdapter</code> call checks if the type adapter implements more than one of these interfaces and register it for all of them.</p>

<h4 id="a-name-toc-writing-a-serializer-a-writing-a-serializer"><a name="TOC-Writing-a-Serializer"></a>Writing a Serializer</h4>

<p>Here is an example of how to write a custom serializer for JodaTime <code>DateTime</code> class.</p>

<pre><code class="language-java">private class DateTimeSerializer implements JsonSerializer&lt;DateTime&gt; {
  public JsonElement serialize(DateTime src, Type typeOfSrc, JsonSerializationContext context) {
    return new JsonPrimitive(src.toString());
  }
}
</code></pre>

<p>Gson calls <code>serialize()</code> when it runs into a <code>DateTime</code> object during serialization.</p>

<h4 id="a-name-toc-writing-a-deserializer-a-writing-a-deserializer"><a name="TOC-Writing-a-Deserializer"></a>Writing a Deserializer</h4>

<p>Here is an example of how to write a custom deserializer for JodaTime DateTime class.</p>

<pre><code class="language-java">private class DateTimeDeserializer implements JsonDeserializer&lt;DateTime&gt; {
  public DateTime deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)
      throws JsonParseException {
    return new DateTime(json.getAsJsonPrimitive().getAsString());
  }
}
</code></pre>

<p>Gson calls <code>deserialize</code> when it needs to deserialize a JSON string fragment into a DateTime object</p>

<p><strong>Finer points with Serializers and Deserializers</strong></p>

<p>Often you want to register a single handler for all generic types corresponding to a raw type</p>

<ul>
<li>For example, suppose you have an <code>Id</code> class for id representation/translation (i.e. an internal vs. external representation).</li>
<li><code>Id&lt;T&gt;</code> type that has same serialization for all generic types

<ul>
<li>Essentially write out the id value</li>
</ul></li>
<li>Deserialization is very similar but not exactly the same

<ul>
<li>Need to call <code>new Id(Class&lt;T&gt;, String)</code> which returns an instance of <code>Id&lt;T&gt;</code></li>
</ul></li>
</ul>

<p>Gson supports registering a single handler for this. You can also register a specific handler for a specific generic type (say <code>Id&lt;RequiresSpecialHandling&gt;</code> needed special handling).
The <code>Type</code> parameter for the <code>toJson()</code> and <code>fromJson()</code> contains the generic type information to help you write a single handler for all generic types corresponding to the same raw type.</p>

<h3 id="a-name-toc-writing-an-instance-creator-a-writing-an-instance-creator"><a name="TOC-Writing-an-Instance-Creator"></a>Writing an Instance Creator</h3>

<p>While deserializing an Object, Gson needs to create a default instance of the class.
Well-behaved classes that are meant for serialization and deserialization should have a no-argument constructor.</p>

<ul>
<li>Doesn&rsquo;t matter whether public or private</li>
</ul>

<p>Typically, Instance Creators are needed when you are dealing with a library class that does NOT define a no-argument constructor</p>

<p><strong>Instance Creator Example</strong></p>

<pre><code class="language-java">private class MoneyInstanceCreator implements InstanceCreator&lt;Money&gt; {
  public Money createInstance(Type type) {
    return new Money(&quot;1000000&quot;, CurrencyCode.USD);
  }
}
</code></pre>

<p>Type could be of a corresponding generic type</p>

<ul>
<li>Very useful to invoke constructors which need specific generic type information</li>
<li>For example, if the <code>Id</code> class stores the class for which the Id is being created</li>
</ul>

<h4 id="a-name-toc-instancecreator-for-a-parameterized-type-a-instancecreator-for-a-parameterized-type"><a name="TOC-InstanceCreator-for-a-Parameterized-Type"></a>InstanceCreator for a Parameterized Type</h4>

<p>Sometimes that the type that you are trying to instantiate is a parameterized type. Generally, this is not a problem since the actual instance is of raw type. Here is an example:</p>

<pre><code class="language-java">class MyList&lt;T&gt; extends ArrayList&lt;T&gt; {
}

class MyListInstanceCreator implements InstanceCreator&lt;MyList&lt;?&gt;&gt; {
    @SuppressWarnings(&quot;unchecked&quot;)
  public MyList&lt;?&gt; createInstance(Type type) {
    // No need to use a parameterized list since the actual instance will have the raw type anyway.
    return new MyList();
  }
}
</code></pre>

<p>However, sometimes you do need to create instance based on the actual parameterized type. In this case, you can use the type parameter being passed to the <code>createInstance</code> method. Here is an example:</p>

<pre><code class="language-java">public class Id&lt;T&gt; {
  private final Class&lt;T&gt; classOfId;
  private final long value;
  public Id(Class&lt;T&gt; classOfId, long value) {
    this.classOfId = classOfId;
    this.value = value;
  }
}

class IdInstanceCreator implements InstanceCreator&lt;Id&lt;?&gt;&gt; {
  public Id&lt;?&gt; createInstance(Type type) {
    Type[] typeParameters = ((ParameterizedType)type).getActualTypeArguments();
    Type idType = typeParameters[0]; // Id has only one parameterized type T
    return Id.get((Class)idType, 0L);
  }
}
</code></pre>

<p>In the above example, an instance of the Id class can not be created without actually passing in the actual type for the parameterized type. We solve this problem by using the passed method parameter, <code>type</code>. The <code>type</code> object in this case is the Java parameterized type representation of <code>Id&lt;Foo&gt;</code> where the actual instance should be bound to <code>Id&lt;Foo&gt;</code>. Since <code>Id</code> class has just one parameterized type parameter, <code>T</code>, we use the zeroth element of the type array returned by <code>getActualTypeArgument()</code> which will hold <code>Foo.class</code> in this case.</p>

<h3 id="a-name-toc-compact-vs-pretty-printing-for-json-output-format-a-compact-vs-pretty-printing-for-json-output-format"><a name="TOC-Compact-Vs.-Pretty-Printing-for-JSON-Output-Format"></a>Compact Vs. Pretty Printing for JSON Output Format</h3>

<p>The default JSON output that is provide by Gson is a compact JSON format. This means that there will not be any whitespace in the output JSON structure. Therefore, there will be no whitespace between field names and its value, object fields, and objects within arrays in the JSON output. As well, &ldquo;null&rdquo; fields will be ignored in the output (NOTE: null values will still be included in collections/arrays of objects). See the <a href="#TOC-Null-Object-Support">Null Object Support</a> section for information on configure Gson to output all null values.</p>

<p>If you like to use the Pretty Print feature, you must configure your <code>Gson</code> instance using the <code>GsonBuilder</code>. The <code>JsonFormatter</code> is not exposed through our public API, so the client is unable to configure the default print settings/margins for the JSON output. For now, we only provide a default <code>JsonPrintFormatter</code> that has default line length of 80 character, 2 character indentation, and 4 character right margin.</p>

<p>The following is an example shows how to configure a <code>Gson</code> instance to use the default <code>JsonPrintFormatter</code> instead of the <code>JsonCompactFormatter</code>:</p>

<pre><code>Gson gson = new GsonBuilder().setPrettyPrinting().create();
String jsonOutput = gson.toJson(someObject);
</code></pre>

<h3 id="a-name-toc-null-object-support-a-null-object-support"><a name="TOC-Null-Object-Support"></a>Null Object Support</h3>

<p>The default behaviour that is implemented in Gson is that <code>null</code> object fields are ignored. This allows for a more compact output format; however, the client must define a default value for these fields as the JSON format is converted back into its Java.</p>

<p>Here&rsquo;s how you would configure a <code>Gson</code> instance to output null:</p>

<pre><code class="language-java">Gson gson = new GsonBuilder().serializeNulls().create();
</code></pre>

<p>NOTE: when serializing <code>null</code>s with Gson, it will add a <code>JsonNull</code> element to the <code>JsonElement</code> structure. Therefore, this object can be used in custom serialization/deserialization.</p>

<p>Here&rsquo;s an example:</p>

<pre><code class="language-java">public class Foo {
  private final String s;
  private final int i;

  public Foo() {
    this(null, 5);
  }

  public Foo(String s, int i) {
    this.s = s;
    this.i = i;
  }
}

Gson gson = new GsonBuilder().serializeNulls().create();
Foo foo = new Foo();
String json = gson.toJson(foo);
System.out.println(json);

json = gson.toJson(null);
System.out.println(json);
</code></pre>

<p>The output is:</p>

<pre><code>{&quot;s&quot;:null,&quot;i&quot;:5}
null
</code></pre>

<h3 id="a-name-toc-versioning-support-a-versioning-support"><a name="TOC-Versioning-Support"></a>Versioning Support</h3>

<p>Multiple versions of the same object can be maintained by using <a href="gson/src/main/java/com/google/gson/annotations/Since.java">@Since</a> annotation. This annotation can be used on Classes, Fields and, in a future release, Methods. In order to leverage this feature, you must configure your <code>Gson</code> instance to ignore any field/object that is greater than some version number. If no version is set on the <code>Gson</code> instance then it will serialize and deserialize all fields and classes regardless of the version.</p>

<pre><code class="language-java">public class VersionedClass {
  @Since(1.1) private final String newerField;
  @Since(1.0) private final String newField;
  private final String field;

  public VersionedClass() {
    this.newerField = &quot;newer&quot;;
    this.newField = &quot;new&quot;;
    this.field = &quot;old&quot;;
  }
}

VersionedClass versionedObject = new VersionedClass();
Gson gson = new GsonBuilder().setVersion(1.0).create();
String jsonOutput = gson.toJson(someObject);
System.out.println(jsonOutput);
System.out.println();

gson = new Gson();
jsonOutput = gson.toJson(someObject);
System.out.println(jsonOutput);
</code></pre>

<p>The output is:</p>

<pre><code>{&quot;newField&quot;:&quot;new&quot;,&quot;field&quot;:&quot;old&quot;}

{&quot;newerField&quot;:&quot;newer&quot;,&quot;newField&quot;:&quot;new&quot;,&quot;field&quot;:&quot;old&quot;}
</code></pre>

<h3 id="a-name-toc-excluding-fields-from-serialization-and-deserialization-a-excluding-fields-from-serialization-and-deserialization"><a name="TOC-Excluding-Fields-From-Serialization-and-Deserialization"></a>Excluding Fields From Serialization and Deserialization</h3>

<p>Gson supports numerous mechanisms for excluding top-level classes, fields and field types. Below are pluggable mechanism that allow field and class exclusion. If none of the below mechanism satisfy your needs then you can always use <a href="#TOC-Custom-Serialization-and-Deserializ">custom serializers and deserializers</a>.</p>

<h4 id="a-name-toc-java-modifier-exclusion-a-java-modifier-exclusion"><a name="TOC-Java-Modifier-Exclusion"></a>Java Modifier Exclusion</h4>

<p>By default, if you mark a field as <code>transient</code>, it will be excluded. As well, if a field is marked as <code>static</code> then by default it will be excluded. If you want to include some transient fields then you can do the following:</p>

<pre><code class="language-java">import java.lang.reflect.Modifier;
Gson gson = new GsonBuilder()
    .excludeFieldsWithModifiers(Modifier.STATIC)
    .create();
</code></pre>

<p>NOTE: you can use any number of the <code>Modifier</code> constants to <code>excludeFieldsWithModifiers</code> method. For example:</p>

<pre><code class="language-java">Gson gson = new GsonBuilder()
    .excludeFieldsWithModifiers(Modifier.STATIC, Modifier.TRANSIENT, Modifier.VOLATILE)
    .create();
</code></pre>

<h4 id="a-name-toc-gson-s-expose-a-gson-s-expose"><a name="TOC-Gson-s-Expose"></a>Gson&rsquo;s <code>@Expose</code></h4>

<p>This feature provides a way where you can mark certain fields of your objects to be excluded for consideration for serialization and deserialization to JSON. To use this annotation, you must create Gson by using <code>new GsonBuilder().excludeFieldsWithoutExposeAnnotation().create()</code>. The Gson instance created will exclude all fields in a class that are not marked with <code>@Expose</code> annotation.</p>

<h4 id="a-name-toc-user-defined-exclusion-strategies-a-user-defined-exclusion-strategies"><a name="TOC-User-Defined-Exclusion-Strategies"></a>User Defined Exclusion Strategies</h4>

<p>If the above mechanisms for excluding fields and class type do not work for you then you can always write your own exclusion strategy and plug it into Gson. See the <a href="http://google.github.io/gson/apidocs/com/google/gson/ExclusionStrategy.html"><code>ExclusionStrategy</code></a> JavaDoc for more information.</p>

<p>The following example shows how to exclude fields marked with a specific <code>@Foo</code> annotation and excludes top-level types (or declared field type) of class <code>String</code>.</p>

<pre><code class="language-java">@Retention(RetentionPolicy.RUNTIME)
@Target({ElementType.FIELD})
public @interface Foo {
  // Field tag only annotation
}

public class SampleObjectForTest {
  @Foo private final int annotatedField;
  private final String stringField;
  private final long longField;
  private final Class&lt;?&gt; clazzField;

  public SampleObjectForTest() {
    annotatedField = 5;
    stringField = &quot;someDefaultValue&quot;;
    longField = 1234;
  }
}

public class MyExclusionStrategy implements ExclusionStrategy {
  private final Class&lt;?&gt; typeToSkip;

  private MyExclusionStrategy(Class&lt;?&gt; typeToSkip) {
    this.typeToSkip = typeToSkip;
  }

  public boolean shouldSkipClass(Class&lt;?&gt; clazz) {
    return (clazz == typeToSkip);
  }

  public boolean shouldSkipField(FieldAttributes f) {
    return f.getAnnotation(Foo.class) != null;
  }
}

public static void main(String[] args) {
  Gson gson = new GsonBuilder()
      .setExclusionStrategies(new MyExclusionStrategy(String.class))
      .serializeNulls()
      .create();
  SampleObjectForTest src = new SampleObjectForTest();
  String json = gson.toJson(src);
  System.out.println(json);
}
</code></pre>

<p>The output is:</p>

<pre><code>{&quot;longField&quot;:1234}
</code></pre>

<h3 id="a-name-toc-json-field-naming-support-a-json-field-naming-support"><a name="TOC-JSON-Field-Naming-Support"></a>JSON Field Naming Support</h3>

<p>Gson supports some pre-defined field naming policies to convert the standard Java field names (i.e., camel cased names starting with lower case &mdash; <code>sampleFieldNameInJava</code>) to a Json field name (i.e., <code>sample_field_name_in_java</code> or <code>SampleFieldNameInJava</code>). See the <a href="http://google.github.io/gson/apidocs/com/google/gson/FieldNamingPolicy.html">FieldNamingPolicy</a> class for information on the pre-defined naming policies.</p>

<p>It also has an annotation based strategy to allows clients to define custom names on a per field basis. Note, that the annotation based strategy has field name validation which will raise &ldquo;Runtime&rdquo; exceptions if an invalid field name is provided as the annotation value.</p>

<p>The following is an example of how to use both Gson naming policy features:</p>

<pre><code class="language-java">private class SomeObject {
  @SerializedName(&quot;custom_naming&quot;) private final String someField;
  private final String someOtherField;

  public SomeObject(String a, String b) {
    this.someField = a;
    this.someOtherField = b;
  }
}

SomeObject someObject = new SomeObject(&quot;first&quot;, &quot;second&quot;);
Gson gson = new GsonBuilder().setFieldNamingPolicy(FieldNamingPolicy.UPPER_CAMEL_CASE).create();
String jsonRepresentation = gson.toJson(someObject);
System.out.println(jsonRepresentation);
</code></pre>

<p>The output is:</p>

<pre><code>{&quot;custom_naming&quot;:&quot;first&quot;,&quot;SomeOtherField&quot;:&quot;second&quot;}
</code></pre>

<p>If you have a need for custom naming policy (<a href="http://groups.google.com/group/google-gson/browse_thread/thread/cb441a2d717f6892">see this discussion</a>), you can use the <a href="http://google.github.io/gson/apidocs/com/google/gson/annotations/SerializedName.html">@SerializedName</a> annotation.</p>

<h3 id="a-name-toc-sharing-state-across-custom-serializers-and-deserializers-a-sharing-state-across-custom-serializers-and-deserializers"><a name="TOC-Sharing-State-Across-Custom-Serializers-and-Deserializers"></a>Sharing State Across Custom Serializers and Deserializers</h3>

<p>Sometimes you need to share state across custom serializers/deserializers (<a href="http://groups.google.com/group/google-gson/browse_thread/thread/2850010691ea09fb">see this discussion</a>). You can use the following three strategies to accomplish this:</p>

<ol>
<li>Store shared state in static fields</li>
<li>Declare the serializer/deserializer as inner classes of a parent type, and use the instance fields of parent type to store shared state</li>
<li>Use Java <code>ThreadLocal</code></li>
</ol>

<p>1 and 2 are not thread-safe options, but 3 is.</p>

<h3 id="a-name-toc-streaming-a-streaming"><a name="TOC-Streaming"></a>Streaming</h3>

<p>In addition Gson&rsquo;s object model and data binding, you can use Gson to read from and write to a <a href="https://sites.google.com/site/gson/streaming">stream</a>. You can also combine streaming and object model access to get the best of both approaches.</p>

<h2 id="a-name-toc-issues-in-designing-gson-a-issues-in-designing-gson"><a name="TOC-Issues-in-Designing-Gson"></a>Issues in Designing Gson</h2>

<p>See the <a href="https://sites.google.com/site/gson/gson-design-document" title="Gson design document">Gson design document</a> for a discussion of issues we faced while designing Gson. It also include a comparison of Gson with other Java libraries that can be used for Json conversion.</p>

<h2 id="a-name-toc-future-enhancements-to-gson-a-future-enhancements-to-gson"><a name="TOC-Future-Enhancements-to-Gson"></a>Future Enhancements to Gson</h2>

<p>For the latest list of proposed enhancements or if you&rsquo;d like to suggest new ones, see the <a href="https://github.com/google/gson/issues">Issues section</a> under the project website.</p>

<hr />

<p>(Note: This article’s original links is <a href="https://github.com/google/gson/blob/master/UserGuide.md" title="User Guide"><em>here</em></a> )</p>
        </div>
        <div id="post-navigator">
          <a id="post-navigator-prev" href="http://alimy.me/post/dev_201603122040/" title="上一篇">&lt;&lt; Gson: Exclusion Strategy</a>
          <a id="post-navigator-next" href="http://alimy.me/post/dev_201603132015/" title="下一篇">Java: Json Simple >></a>
        </div>
        <div id="post-comments">
          <h3>Comments</h3>
          


<div id="disqus_thread"></div>

<script type="text/javascript">
  var disqusUsername = "alimy";

  (function() { 
  var d = document, s = d.createElement('script');

  s.src = '//' + disqusUsername + '.disqus.com/embed.js';

  s.setAttribute('data-timestamp', +new Date());
  (d.head || d.body).appendChild(s);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>


        </div>
          <footer id="copyright"> <p>&copy;2018 <a href="mailto:alimy@gility.net" title="Email:alimy@gility.net">Alimy</a> All rights reserved. <script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1258492321'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s95.cnzz.com/z_stat.php%3Fid%3D1258492321' type='text/javascript'%3E%3C/script%3E"));</script></p></footer>

    </div>
    <script>(function(){var WebP=new Image();WebP.onload=WebP.onerror=function(){
if(WebP.height!=2){var sc=document.createElement('script');sc.type='text/javascript';sc.async=true;
var s=document.getElementsByTagName('script')[0];sc.src='/js/webpjs-0.0.2.min.js';s.parentNode.insertBefore(sc,s);}};
WebP.src='data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA';})();</script>

  </body>
</html>
